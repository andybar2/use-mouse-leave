'use strict';
Object.defineProperty(exports, '__esModule', { value: !0 });
var react_1 = require('react'),
  throttle_debounce_1 = require('throttle-debounce');
function useMouseLeave() {
  var e = (0, react_1.useState)(!0),
    t = e[0],
    r = e[1],
    n = (0, react_1.useRef)(null),
    u = (0, react_1.useRef)(
      (0, throttle_debounce_1.throttle)(50, function(e) {
        if (n && n.current) {
          var t = n.current.getBoundingClientRect();
          e.clientX < t.left || e.clientX > t.right || e.clientY < t.top || e.clientY > t.bottom ? r(!0) : r(!1);
        }
      }),
    ).current,
    o = (0, react_1.useRef)(function() {
      window.addEventListener('mousemove', u);
    }).current,
    c = (0, react_1.useCallback)(function(e) {
      n && n.current && n.current.removeEventListener('mouseenter', o),
        null !== e && (e.addEventListener('mouseenter', o), (n.current = e));
    }, []);
  return (
    (0, react_1.useEffect)(
      function() {
        t && window.removeEventListener('mousemove', u);
      },
      [t],
    ),
    (0, react_1.useEffect)(function() {
      return function() {
        n && n.current && n.current.removeEventListener('mouseenter', o), window.removeEventListener('mousemove', u);
      };
    }, []),
    [t, c]
  );
}
exports.default = useMouseLeave;
